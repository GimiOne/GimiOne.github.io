<!doctype HTML public "-//W3O//DTD W3 HTML 3.0//EN">
<HTML>
<HEAD>
<TITLE>Перевод: Поляков А.В. http://www.avprog.narod.ru</TITLE>
<META name="description" content="Interrupts - 8086 Assembler">
<META name="keywords" content="interrupts, 8086, tutorial, programming, assembler tutorial, tutorial for begginers">
<META name="robots" content="nofollow">
</HEAD><BODY bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#007099" alink="#FF0000">
<TABLE WIDTH=80%>
<TR><TD>
<FONT FACE="Verdana" SIZE=3>
<FONT SIZE=+1>
<B>Уроки Ассемблера 8086 для начинающих (Часть 4)</B>
</FONT><BR><BR>
<FONT SIZE=+2><B>Прерывания</B></FONT>
<BR><BR>
<FONT SIZE=1>
Перевод: Поляков А.В. <A HREF="http://www.avprog.narod.ru">http://www.avprog.narod.ru</A>
</FONT><BR><BR><BR>
Прерывания можно рассматривать как номер функции. Эти функции делают программирование
более легким - вместо написания кода путем печатания символов вы можете
просто вызвать прерывание и оно все сделает за вас. Существуют также
функции прерываний, которые работают с дисками и другим "железом". Мы
называем такие функции <B>программными прерываниями</B>.
<BR><BR>
Прерывания могут быть также вызваны различными устройствами. Такие прерывания
называются <B>аппаратными прерываниями</B>. Но сейчас нас интересуют
только <B>программные прерывания</B>.
<BR><BR>

<BR>
Чтобы выполнить <B>программное прерывание</B>, используют команду
<B>INT</B>, которая имеет очень простой синтаксис:
<BLOCKQUOTE>
<B>INT значение</B>
</BLOCKQUOTE>
Где <B>значение</B> может быть числом в диапазоне от 0 до 255 (или от 0
до 0FFh), обычно мы будем использовать шестнадцатиричные числа.
Вы можете подумать, что имеются только 256 функций, но это не так. Каждое
прерывание может иметь подфункции.
Чтобы определить подфункцию, в регистр <B>AH</B> нужно записать ее номер
перед вызовом прерывания. Каждое прерывание может иметь до 256
подфункций (таким образом мы получаем <NOBR>256 * 256 = 65536</NOBR> функций).
В основном используется регистр <B>AH</B>, но иногда могут использоваться и
другие регистры. Обычно другие регистры используются для записи параметров
и данных подфункции.<BR><BR>

Следующий пример использует прерывание <B>INT 10h</B> и подфункцию <B>0Eh</B>, чтобы
напечатать сообщение "Hello!". Эта функция выводит символ на экран, перемещая
курсор и прокручивая экран по необходимости.<BR><BR>

<TABLE BORDER=1 CELLPADDING=10 WIDTH=50%><TR><TD>
<PRE><FONT FACE="Fixedsys">
#MAKE_COM#        ; инструкция компилятора для создания СОМ-файла.
ORG    100h

; Подфункция, которую мы используем
; не изменяет регистр АН после завершения,
; так что мы можем использовать его только один раз

MOV    AH, 0Eh    ; выбор подфункции.

; Подфункция INT 10h / 0Eh принимает
; в качестве параметра ASCII-код символа,
; который нужно записывать в регистр AL.

MOV    AL, 'H'    ; ASCII-код: 72
INT    10h        ; напечатать его!

MOV    AL, 'e'    ; ASCII-код: 101
INT    10h        ; напечатать его!

MOV    AL, 'l'    ; ASCII-код: 108
INT    10h        ; напечатать его!

MOV    AL, 'l'    ; ASCII-код: 108
INT    10h        ; напечатать его!

MOV    AL, 'o'    ; ASCII-код: 111
INT    10h        ; напечатать его!

MOV    AL, '!'    ; ASCII-код: 33
INT    10h        ; напечатать его!

RET               ; вернуться в операционную систему.
</FONT></PRE>
</TD></TR></TABLE>

<BR><BR>

Скопируйте и вставьте эту программу в редактор кода <I>Emu8086</I>
и нажмите кнопку [<B>Compile and Emulate</B>]. Запустите ее!

<BR><BR>

См. <A HREF="supported_interrupts.html"><B>список поддерживаемых прерываний</B></A>
для более подробной информации о прерываниях.

<BR><BR><BR>

<HR>
<CENTER>
<A HREF="asm_tutorial_03.html"><B> &lt;&lt;&lt; Предыдущая часть &lt;&lt;&lt; </B></A>
&nbsp;&nbsp;&nbsp;&nbsp;
<A HREF="asm_tutorial_05.html"><B> >>> Следующая часть >>> </B></A>
</CENTER>
<HR>


<BR>

</FONT>


</TD></TR>
</TABLE>



</BODY>

</HTML>
